Feature: auto-avaliacao
As a Aluno de uma turma
I want to adicionar notas de auto-avaliacao para cada uma das metas avaliadas
So that eu possa me autoavaliar

Scenario: auto-avaliacao bem sucedida
Given I am in the “auto-avaliacao page” 
And I see “avaliacao do professor” in the grades table
And I see no grades in “auto-avaliacao” in the grades table
When I add grades in “auto-avaliacao”
Then I can see my grades in “auto-avaliacao”

Scenario: auto-avaliacao bem sucedida
Given the student “João Vasconcelos” has no grades in “auto-avaliacao”
When the student add grades in “auto-avaliacao”
Then the “auto-avaliacao” of “João Vasconcelos” has grades

Scenario: auto-avaliacao mal sucedida
Given I am in the “auto-avaliacao page” 
And I see “avaliacao do professor” in the grades table
And I see no grades in “auto-avaliacao” in the grades table
When I add grades in “auto-avaliacao” and I put only 6 grades of 10
Then I see a error message

Scenario: auto-avaliacao mal sucedida
Given the student “João Vasconcelos” has no grades in “auto-avaliacao”
When the student add grades in “auto-avaliacao” And 4 grades of 10 are missing
Then the student can’t add his “auto-avaliacao” grades while the 4 grades are not added

Scenario: auto-avaliacao nao discrepante  
Given I am in the “auto-avaliacao dos alunos” page 
And I see “0%” in the “porcentagem de auto-avaliacoes discrepantes” table
And I see “0” in the “quantidade de auto-avaliacoes discrepantes” table
And I see no students in “alunos com auto-avaliacao discrepante” table
When I select “voltar”
Then I see the “grades” page

Scenario: auto-avaliacao discrepante  
Given I am in the “auto-avaliacao dos alunos” page 
And I see “33,3%” in the “porcentagem de auto-avaliacoes discrepantes” table
And I see “1” in the “quantidade de auto-avaliacoes discrepantes” table
And I see the student “José” in the “alunos” table
And I see "MA", "MPA","MA", "MA", "MPA", "MA","MPA","MA","MPA" and "MA" in “auto-avaliacao” table of the student “José”
When I select “voltar”
Then I see the “grades” page